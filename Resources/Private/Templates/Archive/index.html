{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace blog=ObisConcept\NeosBlog\ViewHelpers}
{namespace typo3cr=TYPO3\TYPO3CR\ViewHelpers}

<f:layout name="Default"/>

<f:section name="Title"> </f:section>

<f:section name="Content">
    <link href="{f:uri.resource(path: 'Styles/main.min.css')}" rel="stylesheet" />
    <script src="{f:uri.resource(path: 'JavaScript/main.min.js')}" type="text/javascript" ></script>

    <f:if condition="{dimensions -> f:count()} > 0">

        <div id="dimensions">

            <f:render partial="FilterOptions/Dimensions" arguments="{_all}" />

        </div>

    </f:if>

    <div id="blog-module" class="neos neos-module media-browser media-module">

        <f:if condition="{blogs}">

            <f:then>

                <div class="neos-media-options">

                    <div class="neos-file-options">

                        <span class="count">

                            {postCount} Posts

                        </span>

                    </div>

                    <div class="neos-view-options">

                        <f:if condition="{blogs -> f:count()} > 1">

                            <f:render partial="FilterOptions/Blogs" arguments="{_all}" />

                        </f:if>

                        <f:if condition="{workspaceFilterMenu -> f:count()} > 1">

                            <f:render partial="FilterOptions/Workspaces" arguments="{_all}" />

                        </f:if>

                        <f:if condition="{authorFilterMenu -> f:count()} > 1">

                            <f:render partial="FilterOptions/Authors" arguments="{_all}" />

                        </f:if>

                        <f:if condition="{categoryFilterMenu -> f:count()} > 1}">

                            <f:render partial="FilterOptions/Categories" arguments="{_all}" />

                        </f:if>

                        <f:render partial="SortOptions/SortMenu" arguments="{_all}" />

                        <f:render partial="Search/PostSearch" />

                    </div>

                </div>

                <div class="neos-content neos-container-fluid">

                    <div class="neos-module-container">

                        <div class="neos-row-fluid">

                            <table class="neos-table">

                                <thead>

                                <tr>

                                    <th>Title</th>

                                    <th>Blog</th>

                                    <th>Category</th>

                                    <th>Workspace</th>

                                    <th>Author</th>

                                    <th>Published</th>

                                    <th>Modified</th>

                                </tr>

                                </thead>

                                <tbody>

                                <f:if condition="{posts}">

                                    <f:then>

                                        <typo3cr:widget.paginate nodes="{posts}" as="paginatedPosts" configuration="{itemsPerPage: 10}">

                                            <f:for each="{paginatedPosts}" as="post" iteration="iterator">

                                                <f:render partial="ArchivedPostList" arguments="{post: post}" />

                                            </f:for>

                                        </typo3cr:widget.paginate>

                                    </f:then>

                                    <f:else>

                                        Sorry, no archived Posts found!

                                    </f:else>

                                </f:if>

                                </tbody>

                            </table>

                        </div>

                    </div>

                </div>

            </f:then>

            <f:else>

                <div class="neos-help-block">

                    Sorry, no Blogs were found.

                </div>

            </f:else>

        </f:if>

    </div>

</f:section>